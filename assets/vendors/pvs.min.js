(function(W,_){typeof exports=="object"&&typeof module<"u"?module.exports=_():typeof define=="function"&&define.amd?define(_):(W=typeof globalThis<"u"?globalThis:W||self,W.pvs=_())})(this,function(){"use strict";const{on:W}=window.ivent;function _(t,e){const n=t.textContent;n.substring(0,2)===e&&(t.textContent=n.substring(2))}function ze(){document.querySelectorAll(".nav-link > .label").forEach(t=>{_(t,"- "),_(t,"# ")})}ze(),W(document,"ready pvs.navigation.content-rendered",ze);const _e=new Map;function Ve(t,e,n){return _e.set(`${t}:${e}`,n)}function ae(t,e){return _e.get(`${t}:${e}`)}function We(t){return t.replace(/#.*/,"")}function Ft(t){const e=We(t);return ae("ajax",e)}async function U(t,e=!0,n={}){const r=We(t);if(e){const a=ae("ajax",r);if(a)return a}const o=await fetch(r,n);if(!o.ok)throw o.status;const i=await o.text();return Ve("ajax",r,i),i}function Y(t){return new DOMParser().parseFromString(t,"text/html")}const{on:Pt,trigger:Dt}=window.ivent,G=[],Ot={target:"_blank",rel:"noopener noreferrer"};function qt(){return G}function ye(){G.length&&(document.querySelectorAll(".social-links:not(.social-links-author)").forEach(t=>{G.forEach(e=>{if(t.querySelector(`a[href="${e.url}"]`))return;const n=document.createElement("li");n.innerHTML=`<a class="social-link" href="${e.url}" target="${e.options.target}" rel="${e.options.rel}">${e.icon}<span>${e.title}</span></a>`,t.appendChild(n)})}),Dt(document,"pvs.social-links.rendered"))}function It(t,e,n,r={}){if(G.some(i=>i.url===t))return;const o={...Ot,...r};G.push({url:t,title:e,icon:n,options:o}),ye()}Pt(document,"ready pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered",ye);const{on:we,trigger:Mt}=window.ivent;function Se(){return document.documentElement.getAttribute("data-color-scheme")}function Ee(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Te(){const t=Se();return t==="system"?Ee():t}function oe(t){document.documentElement.setAttribute("data-color-scheme",t),localStorage.setItem("color-scheme",t)}let ke=!1;function Ae(){const t=document.querySelector('script[src*="comments-ui"]');if(!t)return;const e=Te();t.setAttribute("data-color-scheme",e),ke||(ke=t.getAttribute("data-accent-color")==="#000000"),ke&&t.setAttribute("data-accent-color",e==="dark"?"#525252":"#000000")}function Rt(){we(document,"click",".toggle-color-scheme-button",t=>{t.preventDefault();const e=t.delegateTarget.getAttribute("value"),n=Se(),r=Te();if(n!==e){if(document.documentElement.classList.add("stop-transition"),/(?=.*dark)(?=.*light)(?=.*system)/g.test(e)){const o=Ee()==="dark"?["dark","system","light"]:["light","system","dark"],i=o[o.indexOf(n)+1]||o[0];oe(i)}else/(?=.*dark)(?=.*light)/g.test(e)?oe(r==="dark"?"light":"dark"):oe(e);Mt(document,"pvs.dark-mode.toggle"),document.documentElement.offsetHeight,document.documentElement.classList.remove("stop-transition")}}),Ae(),we(window,"load",()=>{Ae()}),we(document,"pvs.dark-mode.toggle pvs.navigation.content-rendered",()=>{Ae()})}const{on:Ht}=window.ivent,ie=[];function Ue(){ie.length&&ie.forEach(({slug:t,icon:e})=>{document.querySelectorAll(".nav-link > svg").forEach(n=>{const r=n.parentNode,o=r.querySelector("span");(r.classList.contains(`nav-link-${t}`)||t===o?.textContent.trim())&&(n.outerHTML=e)})})}function Ye(t,e){ie.some(n=>n.slug===t)||(ie.push({slug:t,icon:e}),Ue())}Ht(document,"ready",Ue);const{on:Bt}=window.ivent,jt={selector:'a:not([target="_blank"])',target:"_blank",rel:"noopener noreferrer"},Le=[];function Ge(){Le.forEach(({selector:t,target:e,rel:n})=>{const r=location.host.replace("www.","");document.querySelectorAll(t).forEach(o=>{if(!o.host.includes(r)&&(e&&o.setAttribute("target",e),n)){const i=o.getAttribute("rel");if(i){const a=i.split(" "),s=n.split(" "),c=Array.from(new Set([...a,...s])).join(" ");o.setAttribute("rel",c)}else o.setAttribute("rel",n)}})})}function Kt(t={}){const e={...jt,...t};Le.some(n=>n.selector===e.selector)||(Le.push(e),Ge())}Bt(document,"ready pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered",Ge);const zt={clipboardButton:!0,clipboardButtonCopiedBadge:"Copied",clipboardButtonErrorBadge:null,lineNumbers:!1,languageBadge:!1,themes:{light:"github-light",dark:"github-dark"}},_t=`
import { codeToHtml } from 'https://esm.sh/shiki@3.2';

const { on } = window.ivent;
const options = OPTIONS;

function detectLanguage(codeText) {
	const languages = {
		// Special formats first (to avoid false positives)
		json: /^\\s*[{\\[](?:\\"|\\'|$).*[}\\]]\\s*$/,
		yaml: /^(?:---|\\s*[\\w-]+:\\s*(?:(?:>|\\||-|\\[|\\{)|(?:\\S+)))/,

		// Markup languages
		markdown: /^(?:#{1,6}\\s|[*-]\\s|\\d+\\.\\s|>\\s|\\[.*\\]\\(.*\\)|\`{3}|_{2}|\\*{2})/m,
		html: /^\\s*(?:<(?:!DOCTYPE\\s+html|html|head|body|div|span|a|p|script|style|link|meta)[\\s>])/i,

		// Strongly typed languages
		typescript:
			/(?:^|\\b)(?:interface\\s+\\w+|type\\s+\\w+|enum\\s+\\w+|readonly|private|protected|public|abstract|implements|namespace|declare)\\b/,
		'c++':
			/(?:^|\\b)(?:#include\\s*<\\w+>|using\\s+namespace\\s+std|template\\s*<|class\\s+\\w+|public:|private:|protected:)\\b/,
		java: /(?:^|\\b)(?:public\\s+class|private\\s+class|protected\\s+class|package\\s+[\\w.]+;|import\\s+[\\w.]+;)\\b/,
		'c#': /(?:^|\\b)(?:namespace\\s+[\\w.]+|using\\s+[\\w.]+;|public\\s+class|private\\s+class|protected\\s+class)\\b/,

		// Scripting languages
		python:
			/(?:^|\\b)(?:def\\s+\\w+\\s*\\(|class\\s+\\w+(?:\\s*\\([\\w,\\s]*\\))?:|import\\s+[\\w,\\s]+|from\\s+[\\w.]+\\s+import)\\b/,
		javascript:
			/(?:^|\\b)(?:function\\s+\\w+\\s*\\(|const\\s+\\w+\\s*=|let\\s+\\w+\\s*=|var\\s+\\w+\\s*=|import\\s+.*from\\s+['"]|export\\s+(?:default\\s+)?(?:function|class|const|let|var))\\b/,
		php: /(?:^|\\b)(?:<\\?php|namespace\\s+[\\w\\\\]+;|use\\s+[\\w\\\\]+;|class\\s+\\w+(?:\\s+extends|\\s+implements)?)\\b/,
		ruby: /(?:^|\\b)(?:require\\s+['"][\\w/]+['"]|class\\s+\\w+\\s*(?:<\\s*\\w+)?|def\\s+\\w+|module\\s+\\w+)\\b/,

		// Modern languages
		rust: /(?:^|\\b)(?:fn\\s+\\w+|impl\\s+\\w+|pub\\s+(?:fn|struct|enum|trait)|use\\s+[\\w:]+;|let\\s+mut\\s+\\w+)\\b/,
		go: /(?:^|\\b)(?:package\\s+\\w+|func\\s+\\w+|type\\s+\\w+\\s+struct|import\\s+(?:\\([\\s\\S]*?\\)|\\S+))\\b/,
		swift:
			/(?:^|\\b)(?:import\\s+\\w+|class\\s+\\w+|struct\\s+\\w+|protocol\\s+\\w+|extension\\s+\\w+)\\b/,
		kotlin:
			/(?:^|\\b)(?:fun\\s+\\w+|class\\s+\\w+|data\\s+class|object\\s+\\w+|interface\\s+\\w+)\\b/,
		dart: /(?:^|\\b)(?:void\\s+main\\(\\)|class\\s+\\w+|abstract\\s+class|extends\\s+\\w+|implements\\s+\\w+)\\b/,

		// Query languages
		sql: /(?:^|\\b)(?:SELECT\\s+(?:\\*|\\w+)|INSERT\\s+INTO|UPDATE\\s+\\w+\\s+SET|DELETE\\s+FROM|CREATE\\s+TABLE|DROP\\s+TABLE|ALTER\\s+TABLE)\\b/i,

		// Scientific/Statistical languages
		r: /(?:^|\\b)(?:library\\(\\w+\\)|function\\s*\\(|data\\.frame\\(|<-|%>%)\\b/,
		matlab:
			/(?:^|\\b)(?:function\\s+\\w+\\s*=|classdef\\s+\\w+|properties|methods|end)\\b/,

		// Shell scripting
		bash: /^(?:#!\\s*\\/bin\\/(?:ba)?sh|(?:\\b(?:if|then|else|elif|fi|for|do|done|while|case|esac|function)\\b|\\$\\{|\\$\\(|export\\s+\\w+))/,

		// Styling
		css: /(?:^|\\b)(?:@media|@import|@keyframes|\\{[\\s\\S]*?\\}|[a-z-]+:\\s*[^;]+;)/,
	};

	for (const [language, regex] of Object.entries(languages)) {
		if (regex.test(codeText)) {
			return language;
		}
	}

	return 'text';
}

async function init() {
	document
		.querySelectorAll('pre:not(.shiki) > code')
		.forEach(async (code) => {
			let preEl = code.parentNode;
			let wrapper = preEl.parentNode;

			// Add wrapper.
			if (!wrapper.classList.contains('kg-code-card')) {
				wrapper = document.createElement('div');
				wrapper.classList.add('kg-card', 'kg-code-card');
				preEl.after(wrapper);
				wrapper.appendChild(preEl);
			}

			// Has line numbers.
			if (options.lineNumbers) {
				wrapper.classList.add('has-line-numbers');
			}

			preEl.classList.add('shiki');

			const lang = code?.classList[0]?.replace('language-', '') || detectLanguage(code?.innerText || '');
			const themes = options?.themes || {};

			const codeText = code?.innerText;
			const codeHTML = await codeToHtml(codeText || '', {
				lang,
				themes,
			});

			// Add copy button.
			if (options.clipboardButton && codeText) {
				const button = document.createElement('button');
				button.classList.add('copy');
				button.setAttribute('data-copy-code', '');
				button.setAttribute('role', 'button');
				button.setAttribute('aria-label', 'Copy code');

				// Badge success.
				if (options.clipboardButtonCopiedBadge) {
					const badge = document.createElement('span');
					badge.classList.add('success');
					badge.textContent = options.clipboardButtonCopiedBadge;
					button.append(badge);
				}

				// Badge error.
				if (options.clipboardButtonErrorBadge) {
					const badge = document.createElement('span');
					badge.classList.add('error');
					badge.textContent = options.clipboardButtonErrorBadge;
					button.append(badge);
				}

				wrapper.appendChild(button);

				let timeoutSuccess = null;
				let timeoutError = null;

				on(button, 'click', async (e) => {
					e.preventDefault();

					timeoutSuccess && clearTimeout(timeoutSuccess);
					timeoutError && clearTimeout(timeoutError);

					button.classList.remove('error');
					button.classList.remove('success');

					// Success.
					try {
						await navigator.clipboard.writeText(codeText);

						button.classList.add('success');
						timeoutSuccess = setTimeout(() => {
							button.classList.remove('success');
						}, 2000);

					// Error.
					} catch (err) {
						console.error(err);

						button.classList.add('error');
						timeoutError = setTimeout(() => {
							button.classList.remove('error');
						}, 2000);
					}
				});
			}

			// Add language badge.
			if (options.languageBadge && lang) {
				const badge = document.createElement('span');
				badge.classList.add('language-badge');
				badge.textContent = lang;
				wrapper.append(badge);
			}

			// Add code HTML.
			if (codeHTML) {
				preEl.outerHTML = codeHTML;
			}
		});
}

init();

// Update when render page.
on(document, 'ready pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered', () => {
	init();
});
`;function Vt(t={}){const e={...zt,...t},n=document.createElement("script");n.type="module",n.innerHTML=_t.replace("OPTIONS",JSON.stringify(e)),document.head.appendChild(n)}const{on:Wt}=window.ivent;function Ut(){Wt(document,"click","[data-clipboard-text]",async t=>{t.preventDefault();try{await navigator.clipboard.writeText(t.delegateTarget.getAttribute("data-clipboard-text"))}catch(e){console.error(e)}})}function xe(t,e,n){var r=n||{},o=r.noTrailing,i=o===void 0?!1:o,a=r.noLeading,s=a===void 0?!1:a,c=r.debounceMode,f=c===void 0?void 0:c,u,d=!1,h=0;function m(){u&&clearTimeout(u)}function y(P){var g=P||{},v=g.upcomingOnly,E=v===void 0?!1:v;m(),d=!E}function N(){for(var P=arguments.length,g=new Array(P),v=0;v<P;v++)g[v]=arguments[v];var E=this,$=Date.now()-h;if(d)return;function L(){h=Date.now(),e.apply(E,g)}function O(){u=void 0}!s&&f&&!u&&L(),m(),f===void 0&&$>t?s?(h=Date.now(),i||(u=setTimeout(f?O:L,t))):L():i!==!0&&(u=setTimeout(f?O:L,f===void 0?t-$:t))}return N.cancel=y,N}function Ne(t,e,n){var r={},o=r.atBegin,i=o===void 0?!1:o;return xe(t,e,{debounceMode:i!==!1})}const{on:Xe}=window.ivent,Je=new Set,Qe=new Set,Ze=t=>{t.forEach(e=>e())},Yt=xe(200,()=>Ze(Je)),Gt=Ne(200,()=>Ze(Qe)),et=()=>{Yt(),Gt()};Xe(window,"scroll",et,{passive:!0}),Xe(window,"orientationchange",et);function tt(t){Je.add(t)}function Xt(t){Qe.add(t)}const{on:Ce}=window.ivent,nt=new Set,Jt=()=>{nt.forEach(t=>t())},se=Ne(100,Jt);Ce(window,"load",se),Ce(window,"resize",se),Ce(window,"orientationchange",se),se();function Qt(t){typeof t=="function"&&nt.add(t)}const Zt={imageSelector:".kg-gallery-image, .kg-image-card",zIndex:1e4};let rt=!1;function en(t=!0){rt=t}function at(){return rt&&!document.body.classList.contains("tag-hash-lightbox")||document.body.classList.contains("tag-hash-disable-lightbox")}function tn(t={}){const{on:e}=window.ivent,n={...Zt,...t},{body:r}=document;let o,i;const a=new Map;let s,c,f=!1;function u(){const g=window.innerWidth-r.offsetWidth||parseFloat(window.getComputedStyle(r).paddingRight);o=window.innerWidth-g,i=window.innerHeight}u();function d(g){if(!g.querySelector(".lightbox-trigger")){f=!0;const v=g.querySelector("img"),E=g.closest(".kg-card").querySelector("figcaption"),$=v.getAttribute("alt")||E?.textContent||"Open lightbox",L=document.createElement("button");L.classList.add("lightbox-trigger"),L.setAttribute("type","button"),L.setAttribute("aria-expanded","false"),L.setAttribute("aria-label",$),g.append(L),g.classList.add("lightbox")}}function h(g,v,E,$){const L=o/g,O=i/v,M=Math.min(L,O),j=M*g;return M*v>$||j>E?Math.min($/v,E/g):Math.min(M,O)}function m(g){const v=a.get(g),{image:E,naturalWidth:$,naturalHeight:L,posX:O=0,posY:M=0}=v,{width:j,height:be,top:te,left:K}=g.getBoundingClientRect(),k=(o-j)/2-K+O,l=(i-be)/2-te+M;v.posX=k,v.posY=l,g.style.setProperty("transform",`translate(${k}px, ${l}px)`),E.style.setProperty("transform",`scale(${h(j,be,$,L)})`)}function y(g){const v=a.get(g),{image:E}=v;E.complete||E.addEventListener("load",()=>{m(g)}),clearTimeout(v.hideTimeout),c.focus({preventScroll:!0}),g.classList.add("lightbox-show"),g.classList.remove("lightbox-hiding"),g.style.setProperty("z-index",n.zIndex),g.querySelector(".lightbox-trigger").setAttribute("aria-expanded","true"),m(g),v.zIndex=n.zIndex,v.hasHide=!1,s.style.setProperty("z-index",n.zIndex),s.classList.add("lightbox-overlay-show")}function N(g){const v=a.get(g),{image:E,zIndex:$,trigger:L}=v;L.focus({preventScroll:!0}),E.style.transform="",g.style.transform="",g.style.zIndex=$-1,s.style.zIndex=$-1,g.classList.remove("lightbox-show"),g.classList.add("lightbox-hiding"),g.querySelector(".lightbox-trigger").setAttribute("aria-expanded","false"),v.hasHide=!0,v.posX=0,v.posY=0,v.hideTimeout=setTimeout(()=>{g.style.zIndex="",g.classList.remove("lightbox-hiding"),v.hasHide=!0,v.zIndex=n.zIndex},500),s.classList.remove("lightbox-overlay-show")}function P(g){const v=a.get(g);if(s||(s=document.createElement("div"),s.classList.add("lightbox-overlay"),c=document.createElement("button"),c.classList.add("lightbox-close"),c.setAttribute("type","button"),c.setAttribute("aria-label","Close"),document.querySelector(".post-content").before(s,c)),v&&!v.hasHide)N(g);else{if(!v){const E=g.querySelector("img");d(g),a.set(g,{image:E,naturalWidth:parseFloat(E.getAttribute("width")),naturalHeight:parseFloat(E.getAttribute("height")),trigger:g.querySelector(".lightbox-trigger")})}y(g)}}e(document,"click",n.imageSelector,g=>{g.target.classList.contains("lightbox-trigger")||at()||P(g.delegateTarget)}),e(document,"click",".lightbox-trigger",g=>{g.preventDefault();const v=g.delegateTarget;P(v.closest(n.imageSelector))}),e(document,"click",".lightbox-overlay, .lightbox-close",g=>{g.preventDefault(),a.forEach((v,E)=>{v.hasHide||N(E)})}),e(document,"keydown",g=>{g.key==="Escape"?a.forEach((v,E)=>{v.hasHide||N(E)}):g.key==="Tab"&&a.forEach(v=>{v.hasHide||(g.preventDefault(),c.focus({preventScroll:!0}))})}),tt(()=>{a.forEach((g,v)=>{g.hasHide||N(v)})}),Qt(()=>{f&&(u(),a.forEach((g,v)=>{g.hasHide||m(v)}))}),e(window,"load",u),e(document,"ready pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered",()=>{at()||document.querySelectorAll(n.imageSelector).forEach(d),s=document.querySelector(".lightbox-overlay")})}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ot=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ce=ot.join(","),it=typeof Element>"u",H=it?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,le=!it&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},de=function t(e,n){var r;n===void 0&&(n=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),i=o===""||o==="true",a=i||n&&e&&t(e.parentNode);return a},nn=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},st=function(e,n,r){if(de(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(ce));return n&&H.call(e,ce)&&o.unshift(e),o=o.filter(r),o},ct=function t(e,n,r){for(var o=[],i=Array.from(e);i.length;){var a=i.shift();if(!de(a,!1))if(a.tagName==="SLOT"){var s=a.assignedElements(),c=s.length?s:a.children,f=t(c,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:a,candidates:f})}else{var u=H.call(a,ce);u&&r.filter(a)&&(n||!e.includes(a))&&o.push(a);var d=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),h=!de(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(d&&h){var m=t(d===!0?a.children:d.children,!0,r);r.flatten?o.push.apply(o,m):o.push({scopeParent:a,candidates:m})}else i.unshift.apply(i,a.children)}}return o},lt=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},B=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||nn(e))&&!lt(e)?0:e.tabIndex},rn=function(e,n){var r=B(e);return r<0&&n&&!lt(e)?0:r},an=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},dt=function(e){return e.tagName==="INPUT"},on=function(e){return dt(e)&&e.type==="hidden"},sn=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},cn=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},ln=function(e){if(!e.name)return!0;var n=e.form||le(e),r=function(s){return n.querySelectorAll('input[type="radio"][name="'+s+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var i=cn(o,e.form);return!i||i===e},dn=function(e){return dt(e)&&e.type==="radio"},un=function(e){return dn(e)&&!ln(e)},fn=function(e){var n,r=e&&le(e),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==e){var a,s,c;for(i=!!((a=o)!==null&&a!==void 0&&(s=a.ownerDocument)!==null&&s!==void 0&&s.contains(o)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!i&&o;){var f,u,d;r=le(o),o=(f=r)===null||f===void 0?void 0:f.host,i=!!((u=o)!==null&&u!==void 0&&(d=u.ownerDocument)!==null&&d!==void 0&&d.contains(o))}}return i},ut=function(e){var n=e.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},pn=function(e,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=H.call(e,"details>summary:first-of-type"),a=i?e.parentElement:e;if(H.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var s=e;e;){var c=e.parentElement,f=le(e);if(c&&!c.shadowRoot&&o(c)===!0)return ut(e);e.assignedSlot?e=e.assignedSlot:!c&&f!==e.ownerDocument?e=f.host:e=c}e=s}if(fn(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return ut(e);return!1},gn=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return H.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},ue=function(e,n){return!(n.disabled||de(n)||on(n)||pn(n,e)||sn(n)||gn(n))},$e=function(e,n){return!(un(n)||B(n)<0||!ue(e,n))},mn=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},hn=function t(e){var n=[],r=[];return e.forEach(function(o,i){var a=!!o.scopeParent,s=a?o.scopeParent:o,c=rn(s,a),f=a?t(o.candidates):s;c===0?a?n.push.apply(n,f):n.push(s):r.push({documentOrder:i,tabIndex:c,item:o,isScope:a,content:f})}),r.sort(an).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},vn=function(e,n){n=n||{};var r;return n.getShadowRoot?r=ct([e],n.includeContainer,{filter:$e.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:mn}):r=st(e,n.includeContainer,$e.bind(null,n)),hn(r)},bn=function(e,n){n=n||{};var r;return n.getShadowRoot?r=ct([e],n.includeContainer,{filter:ue.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=st(e,n.includeContainer,ue.bind(null,n)),r},V=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return H.call(e,ce)===!1?!1:$e(n,e)},yn=ot.concat("iframe").join(","),Fe=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return H.call(e,yn)===!1?!1:ue(n,e)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Pe(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wn(t){if(Array.isArray(t))return Pe(t)}function Sn(t,e,n){return(e=Ln(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function En(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ft(Object(n),!0).forEach(function(r){Sn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kn(t){return wn(t)||En(t)||xn(t)||Tn()}function An(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ln(t){var e=An(t,"string");return typeof e=="symbol"?e:e+""}function xn(t,e){if(t){if(typeof t=="string")return Pe(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(t,e):void 0}}var gt={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r._setPausedState(!0)}var o=e.indexOf(n);o===-1||e.splice(o,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},Nn=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Cn=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},X=function(e){return e?.key==="Tab"||e?.keyCode===9},$n=function(e){return X(e)&&!e.shiftKey},Fn=function(e){return X(e)&&e.shiftKey},mt=function(e){return setTimeout(e,0)},J=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,r):e},fe=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Pn=[],Dn=function(e,n){var r=document,o=Pn,i=pt({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:$n,isKeyBackward:Fn},n),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s,c=function(l,p,b){return l&&l[p]!==void 0?l[p]:i[b||p]},f=function(l,p){var b=typeof p?.composedPath=="function"?p.composedPath():void 0;return a.containerGroups.findIndex(function(S){var T=S.container,A=S.tabbableNodes;return T.contains(l)||b?.includes(T)||A.find(function(w){return w===l})})},u=function(l){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=p.hasFallback,S=b===void 0?!1:b,T=p.params,A=T===void 0?[]:T,w=i[l];if(typeof w=="function"&&(w=w.apply(void 0,kn(A))),w===!0&&(w=void 0),!w){if(w===void 0||w===!1)return w;throw new Error("`".concat(l,"` was specified but was not a node, or did not return a node"))}var C=w;if(typeof w=="string"){try{C=r.querySelector(w)}catch(F){throw new Error("`".concat(l,'` appears to be an invalid selector; error="').concat(F.message,'"'))}if(!C&&!S)throw new Error("`".concat(l,"` as selector refers to no known node"))}return C},d=function(){var l=u("initialFocus",{hasFallback:!0});if(l===!1)return!1;if(l===void 0||l&&!Fe(l,i.tabbableOptions))if(f(r.activeElement)>=0)l=r.activeElement;else{var p=a.tabbableGroups[0],b=p&&p.firstTabbableNode;l=b||u("fallbackFocus")}else l===null&&(l=u("fallbackFocus"));if(!l)throw new Error("Your focus-trap needs to have at least one focusable element");return l},h=function(){if(a.containerGroups=a.containers.map(function(l){var p=vn(l,i.tabbableOptions),b=bn(l,i.tabbableOptions),S=p.length>0?p[0]:void 0,T=p.length>0?p[p.length-1]:void 0,A=b.find(function(F){return V(F)}),w=b.slice().reverse().find(function(F){return V(F)}),C=!!p.find(function(F){return B(F)>0});return{container:l,tabbableNodes:p,focusableNodes:b,posTabIndexesFound:C,firstTabbableNode:S,lastTabbableNode:T,firstDomTabbableNode:A,lastDomTabbableNode:w,nextTabbableNode:function(z){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,R=p.indexOf(z);return R<0?ne?b.slice(b.indexOf(z)+1).find(function(re){return V(re)}):b.slice(0,b.indexOf(z)).reverse().find(function(re){return V(re)}):p[R+(ne?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(l){return l.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(l){return l.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function(l){var p=l.activeElement;if(p)return p.shadowRoot&&p.shadowRoot.activeElement!==null?m(p.shadowRoot):p},y=function(l){if(l!==!1&&l!==m(document)){if(!l||!l.focus){y(d());return}l.focus({preventScroll:!!i.preventScroll}),a.mostRecentlyFocusedNode=l,Nn(l)&&l.select()}},N=function(l){var p=u("setReturnFocus",{params:[l]});return p||(p===!1?!1:l)},P=function(l){var p=l.target,b=l.event,S=l.isBackward,T=S===void 0?!1:S;p=p||fe(b),h();var A=null;if(a.tabbableGroups.length>0){var w=f(p,b),C=w>=0?a.containerGroups[w]:void 0;if(w<0)T?A=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:A=a.tabbableGroups[0].firstTabbableNode;else if(T){var F=a.tabbableGroups.findIndex(function(je){var Ke=je.firstTabbableNode;return p===Ke});if(F<0&&(C.container===p||Fe(p,i.tabbableOptions)&&!V(p,i.tabbableOptions)&&!C.nextTabbableNode(p,!1))&&(F=w),F>=0){var z=F===0?a.tabbableGroups.length-1:F-1,ne=a.tabbableGroups[z];A=B(p)>=0?ne.lastTabbableNode:ne.lastDomTabbableNode}else X(b)||(A=C.nextTabbableNode(p,!1))}else{var R=a.tabbableGroups.findIndex(function(je){var Ke=je.lastTabbableNode;return p===Ke});if(R<0&&(C.container===p||Fe(p,i.tabbableOptions)&&!V(p,i.tabbableOptions)&&!C.nextTabbableNode(p))&&(R=w),R>=0){var re=R===a.tabbableGroups.length-1?0:R+1,$t=a.tabbableGroups[re];A=B(p)>=0?$t.firstTabbableNode:$t.firstDomTabbableNode}else X(b)||(A=C.nextTabbableNode(p))}}else A=u("fallbackFocus");return A},g=function(l){var p=fe(l);if(!(f(p,l)>=0)){if(J(i.clickOutsideDeactivates,l)){s.deactivate({returnFocus:i.returnFocusOnDeactivate});return}J(i.allowOutsideClick,l)||l.preventDefault()}},v=function(l){var p=fe(l),b=f(p,l)>=0;if(b||p instanceof Document)b&&(a.mostRecentlyFocusedNode=p);else{l.stopImmediatePropagation();var S,T=!0;if(a.mostRecentlyFocusedNode)if(B(a.mostRecentlyFocusedNode)>0){var A=f(a.mostRecentlyFocusedNode),w=a.containerGroups[A].tabbableNodes;if(w.length>0){var C=w.findIndex(function(F){return F===a.mostRecentlyFocusedNode});C>=0&&(i.isKeyForward(a.recentNavEvent)?C+1<w.length&&(S=w[C+1],T=!1):C-1>=0&&(S=w[C-1],T=!1))}}else a.containerGroups.some(function(F){return F.tabbableNodes.some(function(z){return B(z)>0})})||(T=!1);else T=!1;T&&(S=P({target:a.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(a.recentNavEvent)})),y(S||a.mostRecentlyFocusedNode||d())}a.recentNavEvent=void 0},E=function(l){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=l;var b=P({event:l,isBackward:p});b&&(X(l)&&l.preventDefault(),y(b))},$=function(l){(i.isKeyForward(l)||i.isKeyBackward(l))&&E(l,i.isKeyBackward(l))},L=function(l){Cn(l)&&J(i.escapeDeactivates,l)!==!1&&(l.preventDefault(),s.deactivate())},O=function(l){var p=fe(l);f(p,l)>=0||J(i.clickOutsideDeactivates,l)||J(i.allowOutsideClick,l)||(l.preventDefault(),l.stopImmediatePropagation())},M=function(){if(a.active)return gt.activateTrap(o,s),a.delayInitialFocusTimer=i.delayInitialFocus?mt(function(){y(d())}):y(d()),r.addEventListener("focusin",v,!0),r.addEventListener("mousedown",g,{capture:!0,passive:!1}),r.addEventListener("touchstart",g,{capture:!0,passive:!1}),r.addEventListener("click",O,{capture:!0,passive:!1}),r.addEventListener("keydown",$,{capture:!0,passive:!1}),r.addEventListener("keydown",L),s},j=function(){if(a.active)return r.removeEventListener("focusin",v,!0),r.removeEventListener("mousedown",g,!0),r.removeEventListener("touchstart",g,!0),r.removeEventListener("click",O,!0),r.removeEventListener("keydown",$,!0),r.removeEventListener("keydown",L),s},be=function(l){var p=l.some(function(b){var S=Array.from(b.removedNodes);return S.some(function(T){return T===a.mostRecentlyFocusedNode})});p&&y(d())},te=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(be):void 0,K=function(){te&&(te.disconnect(),a.active&&!a.paused&&a.containers.map(function(l){te.observe(l,{subtree:!0,childList:!0})}))};return s={get active(){return a.active},get paused(){return a.paused},activate:function(l){if(a.active)return this;var p=c(l,"onActivate"),b=c(l,"onPostActivate"),S=c(l,"checkCanFocusTrap");S||h(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,p?.();var T=function(){S&&h(),M(),K(),b?.()};return S?(S(a.containers.concat()).then(T,T),this):(T(),this)},deactivate:function(l){if(!a.active)return this;var p=pt({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},l);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,j(),a.active=!1,a.paused=!1,K(),gt.deactivateTrap(o,s);var b=c(p,"onDeactivate"),S=c(p,"onPostDeactivate"),T=c(p,"checkCanReturnFocus"),A=c(p,"returnFocus","returnFocusOnDeactivate");b?.();var w=function(){mt(function(){A&&y(N(a.nodeFocusedBeforeActivation)),S?.()})};return A&&T?(T(N(a.nodeFocusedBeforeActivation)).then(w,w),this):(w(),this)},pause:function(l){return a.active?(a.manuallyPaused=!0,this._setPausedState(!0,l)):this},unpause:function(l){return a.active?(a.manuallyPaused=!1,o[o.length-1]!==this?this:this._setPausedState(!1,l)):this},updateContainerElements:function(l){var p=[].concat(l).filter(Boolean);return a.containers=p.map(function(b){return typeof b=="string"?r.querySelector(b):b}),a.active&&h(),K(),this}},Object.defineProperties(s,{_isManuallyPaused:{value:function(){return a.manuallyPaused}},_setPausedState:{value:function(l,p){if(a.paused===l)return this;if(a.paused=l,l){var b=c(p,"onPause"),S=c(p,"onPostPause");b?.(),j(),K(),S?.()}else{var T=c(p,"onUnpause"),A=c(p,"onPostUnpause");T?.(),h(),M(),K(),A?.()}return this}}}),s.updateContainerElements(e),s};const On={showClass:"popup-show",hideClass:"popup-hide",bodyOverflow:!0,focusDuration:100};function qn(t={}){const{on:e,trigger:n}=window.ivent,r={...On,...t},o=new Map;e(document,"click","[data-popup-toggle]",a=>{a.preventDefault();const s=a.delegateTarget,c=s.getAttribute("data-popup-toggle").slice(1),f=document.querySelector(`[data-popup-id="${c}"]`);o.has(c)||o.set(c,{toggle:s,popup:f,focusTrap:Dn(f),focusTrapTimeout:null});const u=o.get(c);n(document,"pvs.popup.show",{relatedTarget:f,data:{id:c,toggle:s}}),f.classList.remove(r.hideClass),f.offsetHeight,f.classList.add(r.showClass),f.setAttribute("aria-hidden","false"),s.setAttribute("aria-expanded","true"),n(document,"pvs.popup.shown",{relatedTarget:f,data:{id:c,toggle:s}});const d=setTimeout(()=>{u.focusTrap?.activate()},r.focusDuration);u.focusTrapTimeout=d,r.bodyOverflow&&document.body.style.setProperty("overflow","hidden")});function i(a){if(!a.classList.contains(r.showClass))return;const s=a.getAttribute("data-popup-id"),c=o.get(s),f=c.toggle;n(document,"pvs.popup.hide",{relatedTarget:a,data:{id:s,toggle:f}}),a.classList.remove(r.showClass),a.offsetHeight,a.classList.add(r.hideClass),a.setAttribute("aria-hidden","true"),f.setAttribute("aria-expanded","false"),n(document,"pvs.popup.hidden",{relatedTarget:a,data:{id:s,toggle:f}}),clearTimeout(c.focusTrapTimeout),c.focusTrap?.deactivate(),document.body.style.setProperty("overflow","")}e(document,"click",".popup-close",a=>{a.preventDefault(),i(a.delegateTarget.closest(".popup"))}),e(document,"keyup",a=>{a.key==="Escape"&&o.forEach(({popup:s})=>{i(s)})}),e(document,"pvs.navigation.content-render",()=>{o.forEach(({popup:a})=>{i(a)}),o.clear()})}function ht(t,e){let n=new Date().getTime();const r=1e3/e;return function o(){requestAnimationFrame(o);const i=new Date().getTime(),a=i-n;a>r&&(n=i-a%r,t())}()}function In(t,e=1){const n=10**e;return Math.round(t*n)/n}function Mn(t,e,n){return(1-n)*t+n*e}const{on:Rn}=window.ivent,Hn={selector:".scroll-progress"};function Bn(){const t=window.scrollY,e=document.documentElement.scrollHeight-document.documentElement.clientHeight;return Math.max(0,Math.min(100,t/e*100))}function jn(t){const e={...Hn,...t},{selector:n}=e;let r=document.querySelectorAll(n);if(!r)return;let o=null;function i(){const a=Bn(),s=Mn(o===null?a:o,a,.25);s!==o&&(o=s,r.forEach(c=>{c.style.setProperty("--scroll-progress",`${In(o,2)}%`)}))}ht(i,60),Rn(document,"pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered",()=>{r=document.querySelectorAll(n)})}function Kn(){const t=window.innerWidth-document.body.offsetWidth||parseFloat(window.getComputedStyle(document.body).paddingRight);return t?`${t}px`:""}function pe(){document.body.style.setProperty("--scrollbar-width",Kn())}function zn(){const{on:t}=window.ivent;pe(),t(window,"resize",Ne(100,pe)),t(window,"orientationchange",pe),t(document,"pvs.navigation.content-rendered pvs.pagination.rendered",pe)}function Q(t){const e=document.createElement("script");Array.from(t.attributes).forEach(n=>e.setAttribute(n.name,n.value)),t.innerHTML&&(e.innerHTML=t.innerHTML),t.replaceWith(e)}let ge;function _n(){return ge||(ge=new MutationObserver(t=>{t.forEach(e=>{if(e.type==="childList"&&e.addedNodes.length)for(let n=e.addedNodes.length-1;n>=0;n--){const r=e.addedNodes[n];if(r.nodeType===Node.ELEMENT_NODE&&r.nodeName==="SPAN"&&r.parentElement===document.body&&r.attributes.length===0&&/^\d+(?:\s+\S+)*$/.test(r.textContent.trim())){r.remove();break}}})}),ge.observe(document.body,{childList:!0,subtree:!1}),ge)}function Vn(){const t=document.head.getElementsByTagName("style");for(const e of t)if(e.textContent.trim().startsWith(".gh-portal-account-header{display:flex;flex-direction:column;align-items:center;margin:0 0 32px")){e.remove();break}}function De(t){const e=t.querySelectorAll("script");if(e&&e.forEach(n=>{Q(n)}),t.querySelector("[data-ghost-search]")){document.querySelectorAll("#sodo-search-root").forEach(r=>r.remove());const n=document.querySelector('script[src*="sodo-search"]');n&&Q(n)}if(t.querySelector(".kg-video-card, .kg-audio-card, .kg-toggle-card, .kg-gallery-image")){const n=document.querySelector('script[src*="cards"]');n&&Q(n)}if(t.querySelector('[data-lexical-signup-form], [data-members-form], [data-portal], [href*="#/portal"]')){const n=document.querySelector('script[src*="ghost/portal"]');n&&(document.querySelectorAll("#ghost-portal-root").forEach(r=>r.remove()),Vn(),Q(n))}if(t.querySelector("[data-ghost-comment-count]")){const n=document.querySelector('script[src*="comment-counts"]');n&&(_n(),Q(n))}}const{on:Wn,trigger:vt}=window.ivent;function Oe(t){const e=t.getAttribute("href");if(!e){t.classList.remove("loading"),t.classList.add("complete"),t.classList.add("intersecting");return}t.classList.add("loading");const n=t.getAttribute("data-pagination-append")||t.getAttribute("data-pagination-prepend"),r=t.getAttribute("data-pagination-from")||n,o=t.hasAttribute("data-pagination-prepend")?"prepend":"append",i=document.querySelectorAll(n),a=`[data-pagination-${o}]`,s=t.getAttribute("data-pagination")==="infinite";U(e).then(c=>{const f=Y(c),u=f.querySelector(r),d=u.parentNode.querySelector(a)?.getAttribute("href");i.forEach(h=>{const m={href:d,page:f,toSelector:n,fromSelector:r,insertPosition:o,insertTo:h,insertFrom:u,insertCallback:!1};vt(document,"pvs.pagination.render",{data:m,relatedTarget:t});const y=m.insertTo.parentNode.querySelector(a);y&&(y.classList.remove("loading"),m.href?y.setAttribute("href",m.href):(y.classList.add("complete"),y.classList.remove("intersecting"),y.removeAttribute("href"),m.insertPosition==="prepend"&&y.remove())),typeof m.insertCallback=="function"?m.insertCallback(m.insertTo,m.insertPosition,m.insertFrom.innerHTML):m.insertTo.insertAdjacentHTML(m.insertPosition==="prepend"?"afterbegin":"beforeend",m.insertFrom.innerHTML),De(m.insertTo),vt(document,"pvs.pagination.rendered",{data:m,relatedTarget:t}),s&&y&&setTimeout(()=>{y.classList.contains("intersecting")&&y.getAttribute("href")&&!y.classList.contains("loading")&&Oe(y)},100)})}).catch(c=>{c===404&&(t.removeAttribute("href"),t.classList.remove("loading"),t.classList.remove("intersecting"),t.classList.add("complete")),console.error(new Error("Failed to fetch page"))})}function Un(){Wn(document,"click","[data-pagination][href]",n=>{n.preventDefault();const r=n.delegateTarget;r.classList.contains("loading")||(Oe(r),r.getAttribute("data-pagination")==="load-more-infinite"&&r.setAttribute("data-pagination","infinite"))});const t=new IntersectionObserver((n,r)=>{try{n.forEach(o=>{if(!(!o.target||o.target.classList.contains("loading"))){if(!o.target.getAttribute("href")){r.disconnect();return}o.isIntersecting?(o.target.classList.add("intersecting"),Oe(o.target)):o.target.classList.remove("intersecting")}})}catch(o){console.log(o)}},{rootMargin:"300px 0px"}),e=xe(200,()=>{document.querySelectorAll('[data-pagination="infinite"][href]:not(.pvs-pagination-infinite-handled)').forEach(n=>{n.classList.add("pvs-pagination-infinite-handled"),t.observe(n)})});new MutationObserver(e).observe(document.documentElement,{childList:!0,subtree:!0})}const{on:qe,trigger:Yn}=window.ivent;function Gn(){const t=new Map;async function e(a,s){try{const c=await U(a);return Y(c).querySelector(s)}catch(c){throw new Error(c)}}function n(a){const s=a.parentNode;return{paginationNext:s.querySelector("[data-pagination-append]"),paginationPrev:s.querySelector("[data-pagination-prepend]")}}function r(a,s){const{paginationNext:c,paginationPrev:f}=n(s);a.newList=s.cloneNode(!0),a.dataNext=!!c&&{href:c.getAttribute("href"),from:c.getAttribute("data-pagination-from")||c.getAttribute("data-pagination-append")},a.dataPrev=!!f&&{href:f.getAttribute("href"),from:f.getAttribute("data-pagination-from")||f.getAttribute("data-pagination-append")}}function o(a,s){a&&s?(s.href?(a.classList.remove("complete"),a.setAttribute("href",s.href),s.from&&a.setAttribute("data-pagination-from",s.from)):a.removeAttribute("href"),a.style.display=""):a&&!s&&(a.style.display="none")}function i(a,s){const{newList:c,dataNext:f,dataPrev:u}=s;a.forEach(d=>{d.innerHTML=c.innerHTML,d.classList.remove("loading"),De(d);const{paginationNext:h,paginationPrev:m}=n(d);o(h,f),o(m,u)}),Yn(document,"pvs.filter.rendered")}qe(document,"focus","[data-filter]",a=>{const s=a.delegateTarget,{value:c}=s;if(t.has(s))return;t.set(s,{});const f=t.get(s);if(!f[c]){f[c]={};const u=s.getAttribute("data-filter-append");r(f[c],document.querySelector(u))}}),qe(document,"change","[data-filter]",a=>{const s=a.delegateTarget,{value:c}=s,f=s.getAttribute("data-filter-append"),u=s.getAttribute("data-filter-from")||f,d=document.querySelectorAll(f);t.has(s)||t.set(s,{}),document.querySelectorAll("[data-filter]").forEach(m=>{m.getAttribute("data-filter-append")===f&&(m.value=c)});const h=t.get(s);if(h[c]){i(d,h[c]);return}d.forEach(m=>m.classList.add("loading")),e(c,u).then(m=>{h[c]={},r(h[c],m),i(d,h[c])})}),qe(document,"pvs.pagination.rendered",()=>{t.forEach((a,s)=>{const c=s.getAttribute("data-filter-append");r(a[s.value],document.querySelector(c))})})}let D=!1;const bt=new ResizeObserver(()=>{D?.style&&(D.style.overflow="clip",requestAnimationFrame(()=>{D?.style&&(D.style.overflow="")}))});function Xn(t,e){let n=document.querySelector(".pvs-navigation-view-transition-styles");if(!n){const r="linear-gradient(180deg, transparent 0, transparent 2px, #000 2.1px)",o=`linear-gradient(270deg, transparent calc(-100% + calc(200% * var(--pvs-navigation-view-transition-offset))), #000 calc(200% * var(--pvs-navigation-view-transition-offset))), ${r}`,i=`linear-gradient(270deg, #000 calc(-100% + calc(200% * var(--pvs-navigation-view-transition-offset))), transparent calc(200% * var(--pvs-navigation-view-transition-offset))), ${r}`;n=document.createElement("style"),n.classList.add("pvs-navigation-view-transition-styles"),n.textContent=`
@media (prefers-reduced-motion) {
	::view-transition-group(*),
	::view-transition-old(*),
	::view-transition-new(*) {
		animation: none !important;
	}
}

/* Disable root animation */
::view-transition-image-pair(root) {
	isolation: auto;
}
::view-transition-old(root),
::view-transition-new(root) {
	animation: none;
	mix-blend-mode: normal;
	backface-visibility: hidden;
	display: block;
}

@property --pvs-navigation-view-transition-offset {
	syntax: '<number>';
	initial-value: 0;
	inherits: false;
}

@keyframes pvs-navigation-view-transition {
	0% {
		--pvs-navigation-view-transition-offset: 0;
	}
	100% {
		--pvs-navigation-view-transition-offset: 1;
	}
}

${e} {
	view-transition-name: content;
}

::view-transition-old(content),
::view-transition-new(content) {
	animation-name: pvs-navigation-view-transition;
	animation-duration: ${t}s;
	animation-delay: 0s;
	animation-timing-function: cubic-bezier(0.35, 0, 0.4, 1);
	animation-fill-mode: both;

	mask-composite: source-in;
	-webkit-mask-composite: source-in;
}

::view-transition-old(content) {
	mask-image: ${o};
	-webkit-mask-image: ${o};
}

::view-transition-new(content) {
	mask-image: ${i};
	-webkit-mask-image: ${i};
}`,document.head.appendChild(n)}return n}function yt(t,e){const n=e.indexOf("#"),r=n!==-1?e.substring(n+1):"";if(r){const o=document.getElementById(r);o&&o.scrollIntoView({behavior:"smooth"})}else t!==!1&&window.scroll({top:t,behavior:"smooth"})}async function Jn(t,e,n,r,o){if(!(t&&document.startViewTransition)){o(),yt(n,r);return}const i=Xn(t,e);D=document.querySelector(e),await document.startViewTransition(()=>{o(),yt(n,r),D&&bt.observe(D)}).finished,D&&(bt.unobserve(D),D=!1),i.remove()}let q="",x=0,Z=null;function Ie(){return Z||(Z=document.createElement("div"),Z.classList.add("page-loader"),document.body.appendChild(Z)),Z}function Qn(){!q||q==="end"&&x>=100||(q!=="end"&&x>=99&&(x=99),q==="end"?x+=6:x>80?x+=.03:x>70?x+=.05:x>60?x+=.08:x>40?x+=.1:x>30?x+=.3:x>20?x+=.5:x+=1,Ie().style.setProperty("--loader-progress",`${Math.min(100,x).toFixed(2)}%`),q==="start"&&(q="in-progress",Ie().classList.add("loading")),x>99&&(Ie().classList.remove("loading"),x=100))}ht(Qn,60);function wt(){q="start",x=0}function St(){q="end"}var Zn=Object.freeze({__proto__:null,finish:St,start:wt});class er{constructor(){this.selectors={scripts:'script:not([type="application/ld+json"])',jsonLD:'script[type="application/ld+json"]',styles:'link[rel="stylesheet"]',inlineStyles:"style",meta:"meta"}}compareElements(e,n){const r=e?.src,o=n?.src;if(r&&o)return r===o;const i=e?.href,a=n?.href;if(i&&a)return i===a;const s=e?.innerHTML?.trim(),c=n?.innerHTML?.trim();return s&&c&&s===c}async getOriginalSource(e){return Y(ae("ajax",e)||document.documentElement.outerHTML)}isOriginalResource(e,n,r){const o=n.querySelectorAll(r);return Array.from(o).some(i=>this.compareElements(i,e))}getElements(e,n,r="head"){return Array.from(e[r].querySelectorAll(n))}async addElement(e,n,r="head"){const o=document.createElement(e.tagName);return Array.from(e.attributes).forEach(i=>{o.setAttribute(i.name,i.value)}),n==="script"&&e.src?(e.async&&(o.async=!0),e.defer&&(o.defer=!0),new Promise((i,a)=>{o.onload=i,o.onerror=a,o.src=e.src,document[r].appendChild(o)})):(e.innerHTML&&(o.innerHTML=e.innerHTML),document[r].appendChild(o),Promise.resolve())}async handleMetaTags(e,n,r){const o={NAME:"name",PROPERTY:"property",HTTP_EQUIV:"http-equiv"},i=d=>{for(const h of Object.values(o)){const m=d.getAttribute(h);if(m)return`${h}:${m}`}return null},a=d=>{const h=new Map;return d.forEach(m=>{const y=i(m);y&&h.set(y,m)}),h},s=this.getElements(e,this.selectors.meta),c=this.getElements(n,this.selectors.meta),f=a(s),u=a(c);s.forEach(d=>{const h=i(d);h&&!u.has(h)&&this.isOriginalResource(d,r,this.selectors.meta)&&d.remove()}),u.forEach((d,h)=>{const m=f.get(h);if(m){const y=d.getAttribute("content");y!==m.getAttribute("content")&&m.setAttribute("content",y)}else{const y=document.createElement("meta");Array.from(d.attributes).forEach(N=>{y.setAttribute(N.name,N.value)}),e.head.appendChild(y)}})}async handleJsonLD(e,n){const r=this.getElements(e,this.selectors.jsonLD),o=this.getElements(n,this.selectors.jsonLD);r.forEach(i=>i.remove());for(const i of o)await this.addElement(i,"script")}async handleStyles(e,n,r,o="head"){const i=this.getElements(e,this.selectors.styles,o),a=this.getElements(n,this.selectors.styles,o);i.forEach(f=>{const u=a.some(h=>this.compareElements(f,h)),d=this.isOriginalResource(f,r,this.selectors.styles);!u&&d&&f.remove()});for(const f of a)i.some(u=>this.compareElements(f,u))||await this.addElement(f,"style",o);const s=this.getElements(e,this.selectors.inlineStyles,o),c=this.getElements(n,this.selectors.inlineStyles,o);s.forEach(f=>{const u=c.some(h=>this.compareElements(f,h)),d=this.isOriginalResource(f,r,this.selectors.inlineStyles);!u&&d&&f.remove()});for(const f of c)s.some(u=>this.compareElements(f,u))||await this.addElement(f,"inlineStyle",o)}async handleScripts(e,n,r="head"){const o=this.getElements(e,this.selectors.scripts,r),i=this.getElements(n,this.selectors.scripts,r);for(const a of i)o.some(s=>this.compareElements(a,s))||await this.addElement(a,"script",r)}async updateResources(e,n,r){try{const o=await this.getOriginalSource(r),i=["head","body"],a=[this.handleMetaTags(e,n,o),this.handleJsonLD(e,n),...i.flatMap(s=>[this.handleStyles(e,n,o,s),this.handleScripts(e,n,s)])];return await Promise.all(a),!0}catch(o){return console.error("Error updating resources:",o),!1}}}const{on:Me,trigger:me}=window.ivent,tr={linksSelector:'a:not(.no-ajax, [target="_blank"], [href^="#"], [href^="mailto"], [href^="javascript:"], [download], [href*="#/portal"])',popstateSkipHref:["#/portal"],contentSelector:"main.content",transitionDuration:.6};let Re=!1,He=!1;function Et(){return location.href}function nr(t){Ve("page-scroll",t,document.documentElement.scrollTop||document.body.scrollTop)}function rr(t){return ae("page-scroll",t)||0}function ar(t=!0){Re=t}function or(t={}){const e={...tr,...t},{linksSelector:n,popstateSkipHref:r,contentSelector:o,transitionDuration:i}=e;let a=!1,s=Et();function c(u,d,h=0){const m=Y(d),y=m.title,N=m.querySelector(o),P=m.body.getAttribute("class");if(!N){window.location=u;return}const g=new er,v=s;s=u;const E=document.querySelector(o);typeof history<"u"&&a&&history.pushState({page:u},y,u);const $={href:u,page:m};me(document,"pvs.navigation.content-render",{data:$}),document.title=y,Jn(i,o,h,u,async()=>{document.body.setAttribute("class",P),E.innerHTML=N.innerHTML,E.setAttribute("class",N.getAttribute("class")),document.body.style.overflow="",document.querySelectorAll(".nav-link").forEach(L=>{L.classList.toggle("nav-link-current",L.href===u)}),await g.updateResources(document,m,v),De(E),me(document,"pvs.navigation.content-rendered",{data:$})})}function f(u,d=0){me(document,"pvs.navigation.loading"),nr(s);const h=!Ft(u);h&&wt(),U(u,!0,{redirect:"manual"}).then(m=>{c(u,m,d),h&&St(),me(document,"pvs.navigation.loaded")}).catch(()=>{window.location=u})}Me(document,"ready",()=>{U(s,!0).then(()=>{He=!0})}),Me(document,"click",n,u=>{if(Re||!He)return;const d=u.delegateTarget,{href:h}=d;u.which>1||u.metaKey||u.ctrlKey||u.shiftKey||u.altKey||window.location.protocol!==d.protocol||window.location.hostname!==d.hostname||window.location.protocol!=="file:"&&(u.defaultPrevented||d.closest(".swiper-touching")||s.split("#")[0]!==h.split("#")[0]&&(u.preventDefault(),a=!0,f(h)))}),Me(window,"popstate",()=>{if(Re||!He)return;const u=Et();s.split("#")[0]!==u.split("#")[0]&&(r.some(d=>u.includes(d))||(a=!1,f(u,rr(u))))})}const{on:ir}=window.ivent;function sr(){document.querySelectorAll(".collapse").forEach(t=>{if(getComputedStyle(t).visibility!=="hidden"){const e=t.parentNode.querySelector(".collapse-toggle");e.ariaExpanded="true"}t.classList.add("collapse-ready")}),ir(document,"click",".collapse-toggle",t=>{t.preventDefault();const e=t.delegateTarget,n=e.parentNode.querySelector(".collapse:not(.collapse-ready)");n?n.classList.add("collapse-ready"):(!n||n&&getComputedStyle(n).visibility==="hidden")&&(e.ariaExpanded=String(e.ariaExpanded!=="true"))})}const{on:ee}=window.ivent,cr={selector:".dropdown",toggleSelector:".dropdown-toggle",preventCloseSelector:".toggle-color-scheme-button, .collapse-toggle"};function lr(t){const e={...cr,...t};let n=null,r=null;function o(d){n&&i(),r=d,r.setAttribute("aria-expanded","true"),n=d.parentNode.querySelector(`:scope > ${e.selector}`),n.classList.add("show")}function i(){n&&(n.classList.remove("show"),r.setAttribute("aria-expanded","false"),r=null,n=null)}function a(d){d.preventDefault();const h=d.delegateTarget;n&&h===r?i():o(h)}function s(d){if(!n)return;const h=d.target,m=n.contains(h),y=r.contains(h),N=h.closest(e.preventCloseSelector),P=h.matches("a, button")||h.closest("a, button");if(!(y||N)){if(!m){i();return}P&&i()}}function c(d){d.key==="Escape"&&n&&(r.focus(),i())}function f(){n&&requestAnimationFrame(()=>{if(!n)return;const d=document.activeElement;!n.contains(d)&&d!==r&&i()})}function u(){document.querySelectorAll(e.selector).forEach(d=>{d.classList.contains("dropdown-ready")||(d.classList.add("dropdown-ready"),window.getComputedStyle(d).opacity==="1"&&!d.classList.contains("show")&&o(d.parentNode.querySelector(e.toggleSelector)))})}u(),ee(document,"pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered",u),ee(document,"click",e.toggleSelector,a),ee(document,"click",s),ee(document,"keyup",c),ee(document,"focusout",`${e.selector}, ${e.toggleSelector}`,f)}function dr(t){const e=parseFloat(t.getAttribute("data-pricing-month")),n=parseFloat(t.getAttribute("data-pricing-year"))/12,r=Math.round((e-n)/e*100);return r<1?0:r}function Tt(){document.querySelectorAll(".pricing-discount > span").forEach(t=>{t.setAttribute("data-pricing-discount",dr(t))})}function ur(){const{on:t}=window.ivent;Tt(),t(document,"ready pvs.navigation.content-rendered",Tt)}function kt(t){const e=new URL(window.location.href);e.searchParams.set("pricing",t),window.history.replaceState({},"",e)}function fr(){const t=new URLSearchParams(window.location.search).get("pricing");t&&document.querySelectorAll(".pricing-toggle-input").forEach(e=>{e.checked=t===e.value,e.checked&&kt(e.value)}),window.ivent.on(document,"focus",".pricing-toggle-input",e=>{kt(e.delegateTarget.value)})}const{on:pr}=window.ivent,gr=["youtube.com","youtube-nocookie.com","player.vimeo.com","kickstarter.com","dailymotion.com","wistia.com","wistia.net","twitch.tv","clips.twitch.tv","facebook.com","tiktok.com","instagram.com","iframe.mediadelivery.net","video.bunnycdn.com"],At=gr.map(t=>`[src*="${t}"]`).join(","),mr=`
	.tag-hash-video .post-content > .kg-video-card:first-child,
	.tag-hash-video .post-content > .kg-embed-card:first-child:has(> iframe:where(${At})),
	.tag-hash-video .post-content > iframe:first-child:where(${At})
`,he={featured:"post-featured",featuredVideo:"post-featured-video",ready:"post-featured-video-ready"};function Lt(){const t=document.querySelector(mr);if(t){const e=t.closest(".post"),n=e.querySelector(`.${he.featured}`);if(n.querySelector(`.${he.featuredVideo}`))return;n.append(t),t.classList.add(he.featuredVideo),e.classList.add(he.ready)}}function hr(){Lt(),pr(document,"ready pvs.pagination.rendered pvs.navigation.content-rendered",Lt)}const{on:ve,trigger:xt}=window.ivent,Be={tocSelector:".toc",tocScrollSelector:".toc-scroll",toggleSelector:".toc-button",unlockLinkSelector:".toc-unlock-link",lockedPostTeaserSelector:".post-content-teaser",headingsSelector:".post-content > :where(h1, h2, h3)",tocHandledClassName:"toc-handled",activeLinkClassName:"active"};let I={...Be};function Nt(t){return t.getBoundingClientRect().height}function vr(t){const e=document.createElement("ul"),n=[{level:0,element:e}];return t.forEach(r=>{const o=parseInt(r.tagName.charAt(1)),i=document.createElement("li"),a=document.createElement("a");for(a.textContent=r.getAttribute("data-heading-label")||r.textContent,a.href=`#${r.id}`,i.appendChild(a);n.length>1&&n[n.length-1].level>=o;)n.pop();const s=n[n.length-1].element;if(t.some(c=>parseInt(c.tagName.charAt(1))>o)){const c=document.createElement("ul");i.appendChild(c),s.appendChild(i),n.push({level:o,element:c})}else s.appendChild(i),n.push({level:o,element:s})}),e}function br(t){const e=document.querySelector(t.tocSelector);if(!e||e.classList.contains(t.tocHandledClassName))return;e.classList.add(t.tocHandledClassName);const n=Array.from(document.querySelectorAll(t.headingsSelector));if(!n.length)return;if(e.classList.contains("toc-hidden")){const u=vr(n),d=e.querySelector(I.unlockLinkSelector);if(d)if(document.querySelector(I.lockedPostTeaserSelector)){const h=document.createElement("li");d.style.display="",h.appendChild(d),u.appendChild(h)}else d.remove();e.appendChild(u),e.classList.remove("toc-hidden")}const r=n.map(u=>({heading:u,link:e.querySelector(`[href="#${u.id}"]`)})),o=t.tocScrollSelector?e.closest(t.tocScrollSelector):null,i=parseFloat(window.getComputedStyle(r[0].heading).scrollMarginTop),a=u=>Math.round(u.getBoundingClientRect().top-i);let s=!1;const c=()=>{r.forEach(({heading:u,link:d},h)=>{const m=r[h+1]?.heading;if(m&&a(u)<=0&&a(m)>0||!m&&a(u)<=0){if(d.classList.contains(t.activeLinkClassName))return;d.classList.add(t.activeLinkClassName),xt(document,"pvs.toc.activated-link",{relatedTarget:d}),s=d}else d.classList.remove(t.activeLinkClassName),xt(document,"pvs.toc.deactivated-link",{relatedTarget:d}),s===d&&(s=!1)})},f=()=>{if(!o||!s)return;const u=o.getBoundingClientRect(),d=s.getBoundingClientRect(),h=u.height/2,m=d.top-u.top+o.scrollTop+d.height/2;o.scrollTo({top:m-h,behavior:"smooth"}),s=!1};tt(()=>{c()}),ve(window,"load",()=>{c()}),Xt(()=>{f()}),ve(window,"load",()=>{f()})}let Ct=!1;function yr(t){if(t&&(I={...Be,...t}),ve(document,"ready pvs.navigation.content-rendered",()=>{(Ct||document.body.classList.contains("tag-hash-toc"))&&br(I)}),I.toggleSelector){let e=!1;const n=(r,o,i)=>{if(e)return;e=!0;const a=r.querySelector("ul"),s=Nt(r);i&&o.setAttribute("aria-expanded",i);const c=Nt(a);r.style.height=`${s}px`,r.offsetHeight,requestAnimationFrame(()=>{r.style.height=i?`${s+c}px`:`${s-c}px`,setTimeout(()=>{i||o.setAttribute("aria-expanded",i),r.style.height="",e=!1},300)})};ve(document,"click",I.toggleSelector,r=>{r.preventDefault();const o=r.delegateTarget,i=document.querySelector(I.tocSelector),a=o.getAttribute("aria-expanded")==="false";n(i,o,a)})}}function wr(t){t&&(I={...Be,...t}),Ct=!0}var Sr={version:"1.6.11",ajax:U,parseHTML:Y,addSocialLink:It,getSocialLinks:qt,renderSocialLinks:ye,addNavIcon:Ye,addExternalLinkAttributes:Kt,initCodeHighlight:Vt,initTOC:wr,disableNavigation:ar,disableLightbox:en,pageLoader:Zn,initDarkMode:Rt,getSelectedColorScheme:Se,getSystemColorScheme:Ee,getActualColorScheme:Te,updateColorScheme:oe,initClipboard:Ut,initLightbox:tn,initPopup:qn,initScrollProgress:jn,initScrollbarWidth:zn,initNavigation:or,initPagination:Un,initFilter:Gn,initCollapse:sr,initDropdown:lr,initPricingDiscount:ur,initPricingUrlSync:fr,registerFeaturedVideo:hr,registerTOC:yr,addMenuIcon(...t){return console.log("addMenuIcon is deprecated. Use addNavIcon instead."),Ye(...t)}};return Sr});
